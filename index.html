<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Crypto Terminal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-dark: #0b0e11;
            --bg-panel: #1e2329;
            --bg-hover: #2b3139;
            --primary: #fcd535;
            --text-primary: #eaecef;
            --text-secondary: #848e9c;
            --green: #0ecb81;
            --red: #f6465d;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }
        
        body { background-color: var(--bg-dark); color: var(--text-primary); height: 100vh; overflow: hidden; }

        /* --- Login Screen --- */
        .login-wrapper {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-dark);
            display: flex; justify-content: center; align-items: center;
            z-index: 1000;
        }

        .login-box {
            background: var(--bg-panel); padding: 40px; border-radius: 8px;
            width: 450px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 1px solid #333;
        }

        .login-header { text-align: center; margin-bottom: 30px; }
        .login-header i { font-size: 40px; color: var(--primary); margin-bottom: 15px; }
        .login-header h2 { font-weight: 500; font-size: 24px; }

        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; color: var(--text-secondary); margin-bottom: 8px; font-size: 14px; }
        .input-group input {
            width: 100%; padding: 12px; background: var(--bg-dark);
            border: 1px solid #474d57; border-radius: 4px; color: white; outline: none;
            transition: border 0.2s; font-family: monospace;
        }
        .input-group input:focus { border-color: var(--primary); }

        .btn-login {
            width: 100%; padding: 14px; background: var(--primary);
            color: #000; border: none; border-radius: 4px; font-weight: 600; font-size: 16px;
            cursor: pointer; transition: opacity 0.2s;
        }
        .btn-login:hover { opacity: 0.9; }
        .error-msg { color: var(--red); font-size: 13px; margin-top: 10px; text-align: center; display: none; }

        /* --- Main App --- */
        .app-layout { display: none; height: 100vh; flex-direction: column; }
        
        /* Navbar */
        .navbar {
            height: 60px; background: var(--bg-panel); border-bottom: 1px solid #333;
            display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
        }
        .nav-logo { display: flex; align-items: center; gap: 10px; font-weight: 600; font-size: 18px; }
        .nav-logo i { color: var(--primary); font-size: 24px; }
        .nav-stats { display: flex; gap: 20px; font-size: 14px; }
        .stat-item span { color: var(--text-secondary); margin-right: 5px; }
        .stat-val { font-weight: 500; font-family: monospace; }
        .logout-btn { background: none; border: 1px solid var(--text-secondary); color: var(--text-secondary); padding: 5px 15px; border-radius: 4px; cursor: pointer; }
        .logout-btn:hover { border-color: var(--primary); color: var(--primary); }

        /* Content Grid */
        .content { flex: 1; display: grid; grid-template-columns: 300px 1fr; gap: 5px; padding: 5px; background: #000; }

        /* Sidebar (Wallet) */
        .sidebar { background: var(--bg-panel); border-radius: 4px; display: flex; flex-direction: column; overflow: hidden; }
        .wallet-header { padding: 20px; border-bottom: 1px solid #333; background: linear-gradient(180deg, rgba(30,35,41,1) 0%, rgba(20,25,30,1) 100%); }
        .total-balance-label { color: var(--text-secondary); font-size: 13px; margin-bottom: 5px; }
        .btc-large { font-size: 32px; font-weight: 600; color: var(--text-primary); }
        .usd-approx { color: var(--text-secondary); font-size: 16px; margin-top: 5px; }
        
        .address-list { flex: 1; overflow-y: auto; padding: 10px; }
        .address-item {
            background: var(--bg-dark); border: 1px solid #333;
            border-radius: 4px; padding: 12px; margin-bottom: 10px;
            cursor: pointer; transition: transform 0.1s;
        }
        .address-item:hover { border-color: var(--text-secondary); }
        .addr-hash { font-family: monospace; font-size: 12px; color: var(--primary); word-break: break-all; margin-bottom: 5px; opacity: 0.8; }
        .addr-bal { display: flex; justify-content: space-between; font-size: 13px; }

        /* Main Panel (Chart/Trade) */
        .main-panel { background: var(--bg-panel); border-radius: 4px; padding: 20px; display: flex; flex-direction: column; }
        .market-status { display: flex; gap: 40px; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #333; }
        .market-item h4 { color: var(--text-secondary); font-size: 12px; font-weight: 400; margin-bottom: 8px; }
        .market-item .val { font-size: 20px; font-weight: 500; }
        .market-item .val.up { color: var(--green); }
        .market-item .val.down { color: var(--red); }

        .action-area { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .trade-card { background: var(--bg-dark); padding: 20px; border-radius: 6px; border: 1px solid #333; }
        .trade-header { margin-bottom: 15px; color: var(--text-secondary); text-transform: uppercase; font-size: 12px; font-weight: 700; letter-spacing: 1px; }
        
        .trade-input { position: relative; margin-bottom: 15px; }
        .trade-input input { width: 100%; background: #161a1e; border: 1px solid #333; color: white; padding: 12px; border-radius: 4px; text-align: right; }
        .trade-input span { position: absolute; left: 12px; top: 12px; color: var(--text-secondary); font-size: 12px; }

        .btn-buy { background: var(--green); color: white; width: 100%; border: none; padding: 12px; border-radius: 4px; font-weight: 600; cursor: pointer; }
        .btn-sell { background: var(--red); color: white; width: 100%; border: none; padding: 12px; border-radius: 4px; font-weight: 600; cursor: pointer; }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb { background: #474d57; border-radius: 3px; }

        .live-indicator { display: inline-block; width: 8px; height: 8px; background: var(--green); border-radius: 50%; margin-right: 5px; box-shadow: 0 0 5px var(--green); }

    </style>
</head>
<body>

    <div class="login-wrapper" id="loginScreen">
        <div class="login-box">
            <div class="login-header">
                <i class="fab fa-bitcoin"></i>
                <h2>Secure Terminal Access</h2>
                <p style="color: var(--text-secondary); font-size: 14px; margin-top: 5px;">Restricted Area</p>
            </div>
            <div class="input-group">
                <label>ACCESS KEY</label>
                <input type="text" id="accessKey" placeholder="Enter Access Key">
            </div>
            <div class="input-group">
                <label>KEY SECRET</label>
                <input type="password" id="keySecret" placeholder="Enter Secret Hex">
            </div>
            <button class="btn-login" onclick="attemptLogin()">AUTHENTICATE</button>
            <div class="error-msg" id="errorMsg">Access Denied: Invalid Credentials</div>
        </div>
    </div>

    <div class="app-layout" id="appLayout">
        <div class="navbar">
            <div class="nav-logo">
                <i class="fab fa-bitcoin"></i>
                <span>BTC/USDT <span style="font-size: 12px; background: #333; padding: 2px 6px; border-radius: 4px; margin-left: 10px;">PRO</span></span>
            </div>
            <div class="nav-stats">
                <div class="stat-item"><span>Connection:</span> <span class="live-indicator"></span> Stable</div>
                <div class="stat-item"><span>Server:</span> <span class="stat-val">US-East-1</span></div>
            </div>
            <button class="logout-btn" onclick="logout()">LOGOUT</button>
        </div>

        <div class="content">
            <div class="sidebar">
                <div class="wallet-header">
                    <div class="total-balance-label">TOTAL ASSETS</div>
                    <div class="btc-large">9.10000000 <span style="font-size: 16px; color: var(--text-secondary);">BTC</span></div>
                    <div class="usd-approx" id="totalUsd">Loading...</div>
                </div>
                <div style="padding: 10px 15px; border-bottom: 1px solid #333; font-size: 12px; color: var(--text-secondary); font-weight: 700;">
                    ACTIVE ADDRESSES (15)
                </div>
                <div class="address-list" id="addressContainer">
                    </div>
            </div>

            <div class="main-panel">
                <div class="market-status">
                    <div class="market-item">
                        <h4>MARKET PRICE</h4>
                        <div class="val" id="marketPrice">Connecting...</div>
                    </div>
                    <div class="market-item">
                        <h4>24H CHANGE</h4>
                        <div class="val" id="marketChange">--%</div>
                    </div>
                    <div class="market-item">
                        <h4>24H HIGH</h4>
                        <div class="val" id="marketHigh">--</div>
                    </div>
                    <div class="market-item">
                        <h4>24H VOLUME</h4>
                        <div class="val" id="marketVol">-- BTC</div>
                    </div>
                </div>

                <div style="flex: 1; display: flex; align-items: center; justify-content: center; border: 1px dashed #333; border-radius: 4px; margin-bottom: 20px; color: #444;">
                    <i class="fas fa-chart-area" style="font-size: 40px; margin-right: 15px;"></i> TRADINGVIEW CHART API
                </div>

                <div class="action-area">
                    <div class="trade-card">
                        <div class="trade-header" style="color: var(--green);">Buy BTC</div>
                        <div class="trade-input">
                            <span>Price</span>
                            <input type="text" id="buyPrice" readonly>
                        </div>
                        <div class="trade-input">
                            <span>Amount</span>
                            <input type="text" placeholder="Amount BTC">
                        </div>
                        <button class="btn-buy">BUY BTC</button>
                    </div>
                    <div class="trade-card">
                        <div class="trade-header" style="color: var(--red);">Sell BTC</div>
                        <div class="trade-input">
                            <span>Price</span>
                            <input type="text" id="sellPrice" readonly>
                        </div>
                        <div class="trade-input">
                            <span>Amount</span>
                            <input type="text" placeholder="Amount BTC">
                        </div>
                        <button class="btn-sell">SELL BTC</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- CONFIGURATION ---
        const VALID_KEY = "554$$@@#3$#$!!#@@!44234";
        const VALID_SECRET = "000000000000000000000000000000000000000006D9EC10A2B21AD9AE7750DD";
        const TOTAL_BTC = 9.1;
        
        let currentPrice = 0;

        // --- AUTH SYSTEM ---
        function attemptLogin() {
            const keyInput = document.getElementById('accessKey').value.trim();
            const secretInput = document.getElementById('keySecret').value.trim();
            const errorMsg = document.getElementById('errorMsg');

            if (keyInput === VALID_KEY && secretInput === VALID_SECRET) {
                // Success
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('appLayout').style.display = 'flex';
                initApp();
            } else {
                // Fail
                errorMsg.style.display = 'block';
                // Shake effect
                const box = document.querySelector('.login-box');
                box.style.transform = 'translateX(10px)';
                setTimeout(() => box.style.transform = 'translateX(-10px)', 100);
                setTimeout(() => box.style.transform = 'translateX(0)', 200);
            }
        }

        function logout() {
            location.reload();
        }

        // --- APP LOGIC ---
        function initApp() {
            fetchMarketData();
            generateWalletAddresses();
            // Update price every 5 seconds
            setInterval(fetchMarketData, 5000);
        }

        // Fetch Real Data from Binance Public API
        async function fetchMarketData() {
            try {
                // Using Binance public API
                const response = await fetch('https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT');
                const data = await response.json();

                currentPrice = parseFloat(data.lastPrice);
                const priceChange = parseFloat(data.priceChangePercent);
                const high = parseFloat(data.highPrice);
                const vol = parseFloat(data.volume);

                // Update UI
                updateUI(currentPrice, priceChange, high, vol);

            } catch (error) {
                console.error("API Error, using fallback data", error);
                // Fallback simulation if API blocked by CORS or fails
                if(currentPrice === 0) currentPrice = 90150.00; // fallback base
                currentPrice = currentPrice * (1 + (Math.random() * 0.002 - 0.001)); // simulate flutter
                updateUI(currentPrice, 1.25, currentPrice*1.05, 45000);
            }
        }

        function updateUI(price, change, high, vol) {
            // Formatters
            const fmtUSD = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' });
            
            // Market Panel
            const priceEl = document.getElementById('marketPrice');
            priceEl.innerText = fmtUSD.format(price);
            priceEl.style.color = change >= 0 ? 'var(--green)' : 'var(--red)';

            const changeEl = document.getElementById('marketChange');
            changeEl.innerText = change.toFixed(2) + '%';
            changeEl.className = 'val ' + (change >= 0 ? 'up' : 'down');

            document.getElementById('marketHigh').innerText = fmtUSD.format(high);
            document.getElementById('marketVol').innerText = parseInt(vol).toLocaleString();

            // Wallet Panel
            const totalValue = TOTAL_BTC * price;
            document.getElementById('totalUsd').innerText = `â‰ˆ ${fmtUSD.format(totalValue)}`;

            // Trade Inputs
            document.getElementById('buyPrice').value = price.toFixed(2);
            document.getElementById('sellPrice').value = price.toFixed(2);
        }

        function generateWalletAddresses() {
            const container = document.getElementById('addressContainer');
            container.innerHTML = '';

            // Generate 15 addresses
            let remaining = TOTAL_BTC;
            
            // Fixed list of random-looking legacy and segwit addresses
            const addressPrefixes = ['1A1zP1', '3J98t1', 'bc1qxy', '1EzVHt', '3EktnH', 'bc1qar', '1FeexV', '1HQ3Go', '3Cbq7a', 'bc1q42', '1LdRcd', '3Nxwd8', '1HLoD9', 'bc1qkd', '1FfmbH'];
            
            const addresses = [];

            // Distribute balance randomly
            for(let i=0; i<14; i++) {
                // Random chunk between 0.1 and 0.8
                let chunk = Math.random() * 0.7 + 0.1; 
                if(chunk > remaining) chunk = remaining;
                remaining -= chunk;
                addresses.push(chunk);
            }
            addresses.push(remaining); // Last one gets the rest

            // Render
            addresses.forEach((bal, index) => {
                const randomHash = addressPrefixes[index] + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
                
                const html = `
                    <div class="address-item">
                        <div class="addr-hash"><i class="fas fa-qrcode"></i> ${randomHash}</div>
                        <div class="addr-bal">
                            <span style="color: white;">${bal.toFixed(8)} BTC</span>
                            <span style="color: #666;">Legacy/SegWit</span>
                        </div>
                    </div>
                `;
                container.innerHTML += html;
            });
        }
    </script>
</body>
</html>
